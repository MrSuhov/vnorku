# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º –¥–ª—è RPA –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã

### üìû –¢–µ–ª–µ—Ñ–æ–Ω

#### `{phone}`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∫–æ–¥–æ–º —Å—Ç—Ä–∞–Ω—ã
- **–§–æ—Ä–º–∞—Ç**: `+79161234567`
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```json
{
  "id": "enter_phone",
  "action": "type",
  "selectors": ["input[name='phone']"],
  "text": "{phone}"
}
```

#### `{phone_without_7}`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –±–µ–∑ –∫–æ–¥–∞ —Å—Ç—Ä–∞–Ω—ã (+7)
- **–§–æ—Ä–º–∞—Ç**: `9161234567`
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```json
{
  "id": "enter_phone",
  "action": "type",
  "selectors": ["input[name='phone']"],
  "text": "{phone_without_7}"
}
```

---

### üè† –ê–¥—Ä–µ—Å

#### `{address}`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ—á—Ç–æ–≤—ã–º –∏–Ω–¥–µ–∫—Å–æ–º
- **–§–æ—Ä–º–∞—Ç**: `117335, –ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32`
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```json
{
  "id": "enter_full_address",
  "action": "type",
  "selectors": ["input[name='address']"],
  "text": "{address}"
}
```

#### `{zipcode}`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å (–∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –∞–¥—Ä–µ—Å–∞)
- **–§–æ—Ä–º–∞—Ç**: `117335`
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: –ê–¥—Ä–µ—Å –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å 6-–∑–Ω–∞—á–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –∏ –∑–∞–ø—è—Ç–æ–π
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```json
{
  "id": "enter_zipcode",
  "action": "type",
  "selectors": ["input[name='zipcode']"],
  "text": "{zipcode}"
}
```

#### `{address_wo_zipcode}` ‚ú® **–ù–û–í–´–ô**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ê–¥—Ä–µ—Å –±–µ–∑ –ø–æ—á—Ç–æ–≤–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
- **–§–æ—Ä–º–∞—Ç**: `–ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32` (–∏–∑ `117335, –ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32`)
- **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã**:
  - –ï—Å–ª–∏ –∞–¥—Ä–µ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–ø—è—Ç—É—é –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 6-–∑–Ω–∞—á–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–∞—Å—Ç—å –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
  - –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Å—å –∞–¥—Ä–µ—Å
  - –ï—Å–ª–∏ –∑–∞–ø—è—Ç–æ–π –Ω–µ—Ç ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Å—å –∞–¥—Ä–µ—Å
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```json
{
  "id": "enter_street_address",
  "action": "type",
  "selectors": ["input[name='street']"],
  "text": "{address_wo_zipcode}"
}
```

---

### üì± SMS –∫–æ–¥

#### `{sms_code}`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª–Ω—ã–π SMS –∫–æ–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–§–æ—Ä–º–∞—Ç**: `1234` (–∏–ª–∏ –¥—Ä—É–≥–∞—è –¥–ª–∏–Ω–∞)
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```json
{
  "id": "enter_sms",
  "action": "type",
  "selectors": ["input[name='sms_code']"],
  "text": "{sms_code}"
}
```

#### `{sms_code_digit_N}`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã SMS –∫–æ–¥–∞ (–¥–ª—è –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞)
- **–î–æ—Å—Ç—É–ø–Ω—ã–µ**: `{sms_code_digit_1}`, `{sms_code_digit_2}`, `{sms_code_digit_3}`, `{sms_code_digit_4}`
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: SMS –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 4 —Å–∏–º–≤–æ–ª–∞
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```json
{
  "id": "enter_sms_digit_1",
  "action": "type",
  "selectors": ["input[name='code1']"],
  "text": "{sms_code_digit_1}"
},
{
  "id": "enter_sms_digit_2",
  "action": "type",
  "selectors": ["input[name='code2']"],
  "text": "{sms_code_digit_2}"
}
```

---

## –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–∞–∑–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞ –∏ –∞–¥—Ä–µ—Å–∞

```json
{
  "steps": [
    {
      "id": "enter_zipcode",
      "action": "type",
      "selectors": ["input[name='postal_code']"],
      "text": "{zipcode}",
      "wait_after": 500
    },
    {
      "id": "enter_street",
      "action": "type",
      "selectors": ["input[name='street_address']"],
      "text": "{address_wo_zipcode}",
      "wait_after": 500
    }
  ]
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–¥–Ω–æ –ø–æ–ª–µ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞

```json
{
  "steps": [
    {
      "id": "enter_full_address",
      "action": "type",
      "selectors": ["input[name='delivery_address']"],
      "text": "{address}",
      "wait_after": 1000
    }
  ]
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–≤–æ–¥

```json
{
  "steps": [
    {
      "id": "enter_phone",
      "action": "type",
      "selectors": ["input[type='tel']"],
      "text": "{phone_without_7}",
      "wait_after": 500
    },
    {
      "id": "enter_address_field",
      "action": "type",
      "selectors": ["textarea[name='address']"],
      "text": "{address_wo_zipcode}",
      "wait_after": 500
    },
    {
      "id": "enter_zip",
      "action": "type",
      "selectors": ["input[name='zip']"],
      "text": "{zipcode}",
      "wait_after": 500
    }
  ]
}
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö

| –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä | –û—à–∏–±–∫–∞ | –ü–æ–≤–µ–¥–µ–Ω–∏–µ |
|-------------|--------|-----------|
| `{phone}` | –ù–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –ë–î | ‚ùå –®–∞–≥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π |
| `{phone_without_7}` | –ù–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –ë–î | ‚ùå –®–∞–≥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π |
| `{address}` | –ù–µ—Ç –∞–¥—Ä–µ—Å–∞ –≤ –ë–î | ‚ùå –®–∞–≥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π |
| `{zipcode}` | –ù–µ—Ç –∞–¥—Ä–µ—Å–∞ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç | ‚ùå –®–∞–≥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π |
| `{address_wo_zipcode}` | –ù–µ—Ç –∞–¥—Ä–µ—Å–∞ | ‚ùå –®–∞–≥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π |
| `{address_wo_zipcode}` | –ê–¥—Ä–µ—Å –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞ | ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Å—å –∞–¥—Ä–µ—Å |
| `{sms_code}` | –ö–æ–¥ –Ω–µ –ø–æ–ª—É—á–µ–Ω | ‚ùå –®–∞–≥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π |

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –ª–æ–≥–∏—Ä—É—é—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É:

```
‚úèÔ∏è Processing input step enter_address with template: {address_wo_zipcode}
üè† Extracted address without zipcode for user 123456789: –ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32
‚úÖ Successfully entered text into: input[name='street']
```

---

## –§–æ—Ä–º–∞—Ç –∞–¥—Ä–µ—Å–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –û–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç

–ê–¥—Ä–µ—Å –≤ —Ç–∞–±–ª–∏—Ü–µ `users` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
<6-–∑–Ω–∞—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å>, <–æ—Å—Ç–∞–ª—å–Ω–æ–π –∞–¥—Ä–µ—Å>
```

–ü—Ä–∏–º–µ—Ä—ã:
- ‚úÖ `117335, –ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32`
- ‚úÖ `101000, –ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 1`
- ‚ö†Ô∏è `–ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32` (–Ω–µ—Ç –∏–Ω–¥–µ–∫—Å–∞ - –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä `{zipcode}` –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚ö†Ô∏è `117335–ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32` (–Ω–µ—Ç –∑–∞–ø—è—Ç–æ–π - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç)

### –ú–æ–¥–µ–ª—å User

```python
class User(Base):
    __tablename__ = 'users'
    
    telegram_id = Column(BigInteger, primary_key=True)
    phone = Column(String(20))
    address = Column(Text)  # –§–æ—Ä–º–∞—Ç: "117335, –ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32"
    # ...
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ë–î –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –∞–¥—Ä–µ—Å–æ–º –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:
```sql
UPDATE users 
SET address = '117335, –ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32' 
WHERE telegram_id = 123456789;
```

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ RPA –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```json
{
  "id": "test_address_wo_zipcode",
  "action": "type",
  "selectors": ["input[name='address']"],
  "text": "{address_wo_zipcode}"
}
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ RPA —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:
```
üè† Extracted address without zipcode for user 123456789: –ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è 32
```

---

## Changelog

### v1.1.0 (2025-09-26)
- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä `{address_wo_zipcode}` –¥–ª—è –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞
- üîß –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_user_address_wo_zipcode_internal()`
- üìù –£–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### v1.0.0
- üìû –ë–∞–∑–æ–≤—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞: `{phone}`, `{phone_without_7}`
- üè† –ë–∞–∑–æ–≤—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è –∞–¥—Ä–µ—Å–∞: `{address}`, `{zipcode}`
- üì± –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è SMS: `{sms_code}`, `{sms_code_digit_N}`
